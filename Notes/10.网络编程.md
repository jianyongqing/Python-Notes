> 网络编程最根本的本质就在于通信技术—Socket通信技术

# 一、网络编程基础
  
    Socket通信技术即就是两台联网或者多台联网的计算机之间的数据交换技术，这就涉及着通信端的协议等等问题。同时在不同的操作系
    统下（Windows与Liunx），Socket通信技术会有所不同，但是其实质的Socket通信思想是一致的。

## 1.1 计算机网络基础

## 1.2 软件开发架构

1. C/S架构

C/S即：Client与Server ，中文意思：客户端与服务器端架构，这种架构也是从用户层面（也可以是物理层面）来划分的。这里的客户端一般泛指客户端应用程序EXE，程序需要先安装后，才能运行在用户的电脑上，对用户的电脑操作系统环境依赖较大。

<p align="center">
<a>
  <img src="https://github.com/jianyongqing/Python-Tutorial/blob/master/res/imgs/CS%E6%9E%B6%E6%9E%84.png"/>
 </a>
</p>

2. B/S架构

B/S即：Browser与Server,中文意思：浏览器端与服务器端架构，这种架构是从用户层面来划分的。Browser浏览器，其实也是一种Client客户端，只是这个客户端不需要大家去安装什么应用程序，只需在浏览器上通过HTTP请求服务器端相关的资源（网页资源），客户端Browser浏览器就能进行增删改查。

<p align="center">
<a>
  <img src="https://github.com/jianyongqing/Python-Tutorial/blob/master/res/imgs/BS%E6%9E%B6%E6%9E%84.png"/>
 </a>
</p>

## 1.3 网络编程与协议

1. 网络编程

网络编程也称为socket编程，socket通常译作“套接字”，但原意其实意译应该为”接口“。也就是操作系统提供给开发人员进行网络开发的API接口。这套接口通常可以参数的调整支持多种协议，包括TCP、UDP和IP等等。

    网络编程实质就是计算机之间的数据进行交换，而计算机之间的数据传输需要两个条件：
        1. 就是需要物理连接，这一点由于所有的计算机都联机在Internet网络上，故而不需要考虑；
        2. 用于数据传输的程序，这一点就是需要我们使用计算机语言进行编写程序来实现，同时操作系统也为我们提供了socket用于计算
        机之间的数据传输。

2. 网络协议

网络协议是一个分层的协议族，也就是是有一组协议构成，从下往上各自负责各自的功能。那什么是协议呢？协议的字面意思是共同计议，商议。简单的理解其实就是多方进行沟通的规定。而网络协议其实就是在网络中多个计算节点进行交互、沟通的规定。

## 1.4 以TCP/IP为核心的互联网

    实现网络通信的基础是网络通信协议，这些协议通常是由互联网工程任务组 （IETF）制定的。所谓“协议”就是通信计算机双方必须共同遵
    从的一组约定，例如怎样  建立连接、怎样互相识别等，网络协议的三要素是：语法、语义和时序。构成我们今天使用的Internet的基础
    的是TCP/IP协议族，所谓协议族就是一系列的协议及其构成的通信模型，我们通常也把这套东西称为TCP/IP模型. 与国际标准化组织发布
    的OSI/RM这个七层模型不同，TCP/IP是一个四层模型，也就是说，该模型将我们使用的网络从逻辑上分解为四个层次，自底向上依次是：
    网络接口层、网络层、传输层和应用层.

早期的计算机网络，都是由各厂商自己规定一套协议，IBM、Apple和Microsoft都有各自的网络协议，互不兼容. 为了把全世界的所有不同类型的计算机都连接起来，就必须规定一套全球通用的协议，为了实现互联网这个目标，互联网协议簇（Internet Protocol Suite）就是通用协议标准.因为互联网协议包含了上百种协议标准，但是最重要的两个协议是TCP和IP协议，所以，大家把互联网的协议简称TCP/IP协议.

    TCP全称传输控制协议，它是基于IP提供的寻址和路由服务而建立起来的负责实现端到端可靠传输的协议，之所以将TCP称为可靠的传输协
    议是因为TCP向调用者承诺  了三件事情：
          1. 数据不传丢不传错（利用握手、校验和重传机制可以实现）。
          2. 流量控制（通过滑动窗口匹配数据发送者和接收者之间的传输速度）。
          3. 拥塞控制（通过RTT时间以及对滑动窗口的控制缓解网络拥堵）。

1. IP地址与IP协议

IP地址是指互联网协议地址（英语：Internet Protocol Address，又译为网际协议地址），是IP Address的缩写。IP地址是IP协议提供的一种统一的地址格式，它为互联网上的每一个网络和每一台主机分配一个逻辑地址，以此来屏蔽物理地址的差异。

IP地址是一个32位的二进制数，通常被分割为4个“8位二进制数”（也就是4个字节）。IP地址通常用“点分十进制”表示成（a.b.c.d）的形式，其中，a,b,c,d都是0~255之间的十进制整数。例：点分十进IP地址（100.4.5.6），实际上是32位二进制数（01100100.00000100.00000101.00000110）。

2. 端口

> "端口"是英文port的意译，可以认为是设备与外界通讯交流的出口。

一台拥有IP地址的主机可以提供许多服务，比如Web服务、FTP服务、SMTP服务等，这些服务完全可以通过1个IP地址来实现。那么问题来了，主机是怎样区分不同的网络服务呢？举个栗子，For Example，当你和你的朋友聊QQ的时候，你把一条信息发送给对方，为什么那条消息能显示到对方电脑上的QQ对话框，而不是显示到微信的对话框？显然不只有一个ip地址是不行的，因为IP 地址与网络服务的关系是一对多的关系。实际上是通过“IP地址+端口号”来区分不同的服务的。ip找到对应主机，端口找到主机中某一个服务。

3. mac地址

head中包含的源和目标地址由来：ethernet规定接入internet的设备都必须具备网卡，发送端和接收端的地址便是指网卡的地址，即mac地址。

mac地址：每块网卡出厂时都被烧制上一个世界唯一的mac地址，长度为48位2进制，通常由12位16进制数表示（前六位是厂商编号，后六位是流水线号）
  
4. arp协议 ——查询IP地址和MAC地址的对应关系

地址解析协议，即ARP（Address Resolution Protocol），是根据目标IP地址获取目标物理地址的一个TCP/IP协议。主机发送信息时将包含目标IP地址的ARP请求广播到网络上的所有主机，并接收返回消息，以此确定目标的物理地址。收到返回消息后将该IP地址和物理地址存入本机ARP缓存中并保留一定时间，下次请求时直接查询ARP缓存以节约资源。地址解析协议是建立在网络中各个主机互相信任的基础上的，网络上的主机可以自主发送ARP应答消息，其他主机收到应答报文时不会检测该报文的真实性就会将其记入本机ARP缓存；由此攻击者就可以向某一主机发送伪ARP应答报文，使其发送的信息无法到达预期的主机或到达错误的主机，这就构成了一个ARP欺骗。ARP命令可用于查询本机ARP缓存中IP地址和MAC地址的对应关系、添加或删除静态对应关系等。相关协议有RARP、代理ARP。NDP用于在IPv6中代替地址解析协议。 
  
5. 子网掩码

所谓”子网掩码”，就是表示子网络特征的一个参数。它在形式上等同于IP地址，也是一个32位二进制数字，它的网络部分全部为1，主机部分全部为0。比如，IP地址172.16.10.1，如果已知网络部分是前24位，主机部分是后8位，那么子网络掩码就是11111111.11111111.11111111.00000000，写成十进制就是255.255.255.0。

知道”子网掩码”，我们就能判断，任意两个IP地址是否处在同一个子网络。方法是将两个IP地址与子网掩码分别进行AND运算（两个数位都为1，运算结果为1，否则为0），然后比较结果是否相同，如果是的话，就表明它们在同一个子网络中，否则就不是。
  
    比如，已知IP地址172.16.10.1和172.16.10.2的子网掩码都是255.255.255.0，请问它们是否在同一个子网络？两者与子网掩码分别进
    行AND运算，
               172.16.10.1：10101100.00010000.00001010.000000001
               255255.255.255.0:11111111.11111111.11111111.00000000
    AND运算得网络地址结果：10101100.00010000.00001010.000000001->172.16.10.0

               172.16.10.2：10101100.00010000.00001010.000000010
               255255.255.255.0:11111111.11111111.11111111.00000000
    AND运算得网络地址结果：10101100.00010000.00001010.000000001->172.16.10.0
    结果都是172.16.10.0，因此它们在同一个子网络。

> IP协议的作用主要有两个，一个是为每一台计算机分配IP地址，另一个是确定哪些地址在同一个子网络。

## 1.5 互联网协议与osi模型

互联网协议按照功能不同分为osi七层或tcp/ip五层或tcp/ip四层

1. 每层运行常见物理设备

2. 每层运行常见的协议

----------------------------------------------------------------------------------------------------------------------------------------

# 二、socket编程

> Socket被称之为“套接字”，是计算机之间用于通信的一种约定协议或者一种方式方法，使用socket约定协议，计算机可以发送数据，同时也可以接受数据，相当于通信里面的全双工模式。简单来说，Socket就是用于连接远程Internet上的计算机的一种工具，然后进行数据的传输。

## 2.1 基于TCP协议的socket

> TCP（Transmission Control Protocol）可靠的、面向连接的协议（eg:打电话）、传输效率低全双工通信（发送缓存&接收缓存）、面向字节流。使用TCP的应用：Web浏览器；电子邮件、文件传输程序。

TCP是基于链接的，必须先启动服务端，然后再启动客户端去链接服务端

## 2.2 基于UDP协议的socket

> UDP（User Datagram Protocol）不可靠的、无连接的服务，传输效率高（发送前时延小），一对一、一对多、多对一、多对多、面向报文，尽最大努力服务，无拥塞控制。使用UDP的应用：域名系统 (DNS)；视频流；IP语音(VoIP)。

## 2.3 tcp和udp的对比

TCP---传输控制协议,提供的是面向连接、可靠的字节流服务。当客户和服务器彼此交换数据前，必须先在双方之间建立一个TCP连接，之后才能传输数据。TCP提供超时重发，丢弃重复数据，检验数据，流量控制等功能，保证数据能从一端传到另一端。 

UDP---用户数据报协议，是一个简单的面向数据报的运输层协议。UDP不提供可靠性，它只是把应用程序传给IP层的数据报发送出去，但是并不能保证它们能到达目的地。由于UDP在传输数据报前不用在客户和服务器之间建立一个连接，且没有超时重发等机制，故而传输速度很快

----------------------------------------------------------------------------------------------------------------------------------------

# 三、网络应用开发
